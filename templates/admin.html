{% extends "app.html" %}

{% block aside %}
  <div class="user">
    <span class="avatar" style="background-image: url('{{ bag('user.avatar') }}')"></span>
    <h4 class="name">{{ bag('user.name') }}</h4>
  </div>

  <ul class="accordion">
    <li class="filter is-expanded">
      <a href="javascript:void(0)" class="js-accordion-trigger">My Datasets</a>
      <ul class="submenu">
        <li>
          <a class="active" href="javascript:void(0)">All datasets <span class="label">{{ bag('user.uploaded_datasets') }}</span></a>
        </li>
        <li>
          <a href="javascript:void(0)">Published only <span class="label">{{ bag('user.published_datasets') }}</span></a>
        </li>
        <li>
          <a href="javascript:void(0)">Private only <span class="label">{{ bag('user.private_datasets') }}</span></a>
        </li>
      </ul>
    </li>
  </ul>

  <footer>
    <a class="edit" data-toggle="modal" data-target="#edit_profile">
      <svg><use xlink:href="#icon-cog" /></svg> <span>Edit profile</span>
    </a>
  </footer>
{% endblock %}

{% block content %}
  {% import 'macros/app-elements.html' as app_elements %}
  {{ app_elements.search('datasets', placeholder='enter keywords from dataset title') }}

  <div class="dataset-list">
    <table>
      <thead>
        <tr>
          <th class="title"><span>Title</span></th>
          <th class="status"><span>Publication status</span></th>
          <th class="actions"><span>Actions</span></th>
        </tr>
      </thead>
       <tbody>
         <tr>
           <td class="title"><span>ESIF finance details</span></td>
           <td class="status"><span class="label label-primary">Published</span></td>
           <td class="actions">
             <ul>
               <li class="make-private">
                 <a>Make private</a>
               </li>
               <li class="edit">
                 <a data-toggle="tooltip" data-placement="top" title="Edit"><svg><use xlink:href="#icon-edit" /></svg><span>Edit</span></a>
               </li>
               <li class="view">
                 <a data-toggle="tooltip" data-placement="top" title="View"><svg><use xlink:href="#icon-open" /></svg><span>View</span></a>
               </li>
               <li class="download context">
                 <a data-toggle="tooltip" data-placement="top" title="Download">
                   <svg><use xlink:href="#icon-download"/></svg><span>Download</span>
                 </a>
                 <ul>
                   <li class="package">
                     <a>Data package</a>
                   </li>
                   <li class="raw">
                     <a>Raw source data</a>
                   </li>
                 </ul>
               </li>
               <li class="more context">
                 <a><svg><use xlink:href="#icon-more" /></svg><span>More</span></a>
                 <ul>
                    <li class="run">
                      <a>Run external hooks</a>
                    </li>
                  </ul>
               </li>
             </ul>
           </td>
         </tr>
         <tr>
           <td class="title"><span>Isreali Reserves over the years</span></td>
           <td class="status"><span class="label label-warning">Private</span></td>
           <td class="actions">
             <ul>
               <li class="publish">
                 <a>Publish</a>
               </li>
               <li class="edit">
                 <a data-toggle="tooltip" data-placement="top" title="Edit"><svg><use xlink:href="#icon-edit" /></svg><span>Edit</span></a>
               </li>
               <li class="view">
                 <a data-toggle="tooltip" data-placement="top" title="View"><svg><use xlink:href="#icon-open" /></svg><span>View</span></a>
               </li>
               <li class="download context">
                 <a data-toggle="tooltip" data-placement="top" title="Download">
                   <svg><use xlink:href="#icon-download"/></svg><span>Download</span>
                 </a>
                 <ul>
                   <li class="package">
                     <a>Data package</a>
                   </li>
                   <li class="raw">
                     <a>Raw source data</a>
                   </li>
                 </ul>
               </li>
               <li class="more context">
                 <a><svg><use xlink:href="#icon-more" /></svg><span>More</span></a>
                 <ul>
                    <li class="run">
                      <a>Run external hooks</a>
                    </li>
                  </ul>
               </li>
             </ul>
           </td>
         </tr>
         <tr>
           <td class="title"><span>ERDF Data for Nieder√∂sterreich 2007-2013</span></td>
           <td class="status"><span class="label label-warning">Private</span></td>
           <td class="actions">
             <ul>
               <li class="publish">
                 <a>Publish</a>
               </li>
               <li class="edit">
                 <a data-toggle="tooltip" data-placement="top" title="Edit"><svg><use xlink:href="#icon-edit" /></svg><span>Edit</span></a>
               </li>
               <li class="view">
                 <a data-toggle="tooltip" data-placement="top" title="View"><svg><use xlink:href="#icon-open" /></svg><span>View</span></a>
               </li>
               <li class="download context">
                 <a data-toggle="tooltip" data-placement="top" title="Download">
                   <svg><use xlink:href="#icon-download"/></svg><span>Download</span>
                 </a>
                 <ul>
                   <li class="package">
                     <a>Data package</a>
                   </li>
                   <li class="raw">
                     <a>Raw source data</a>
                   </li>
                 </ul>
               </li>
               <li class="more context">
                 <a><svg><use xlink:href="#icon-more" /></svg><span>More</span></a>
                 <ul>
                    <li class="run">
                      <a>Run external hooks</a>
                    </li>
                  </ul>
               </li>
             </ul>
           </td>
         </tr>
         <tr>
           <td class="title"><span>European ESIF Funds Beneficiaries 2000-2020</span></td>
           <td class="status"><span class="label label-warning">Private</span></td>
           <td class="actions">
             <ul>
               <li class="publish">
                 <a>Publish</a>
               </li>
               <li class="edit">
                 <a data-toggle="tooltip" data-placement="top" title="Edit"><svg><use xlink:href="#icon-edit" /></svg><span>Edit</span></a>
               </li>
               <li class="view">
                 <a data-toggle="tooltip" data-placement="top" title="View"><svg><use xlink:href="#icon-open" /></svg><span>View</span></a>
               </li>
               <li class="download context">
                 <a data-toggle="tooltip" data-placement="top" title="Download">
                   <svg><use xlink:href="#icon-download"/></svg><span>Download</span>
                 </a>
                 <ul>
                   <li class="package">
                     <a>Data package</a>
                   </li>
                   <li class="raw">
                     <a>Raw source data</a>
                   </li>
                 </ul>
               </li>
               <li class="more context">
                 <a><svg><use xlink:href="#icon-more" /></svg><span>More</span></a>
                 <ul>
                    <li class="run">
                      <a>Run external hooks</a>
                    </li>
                  </ul>
               </li>
             </ul>
           </td>
         </tr>
       </tbody>

     </table>

     <!-- Modal -->
     <div class="modal fade" id="edit_profile" tabindex="-1" role="dialog">
       <div class="modal-dialog" role="document">
         <div class="modal-content">
           <div class="modal-header">
             <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
             <h4 class="modal-title">Edit Profile</h4>
             <hr />
           </div>
           <div class="modal-body">
             <div class="form">
               <label for="profile-email">Email</label>
               <input id="profile-email" placeholder="myem@il.address" type="email">
               <p class="help-block">This is the email address which you use as login.</p>

               <label for="profile-username">Username</label>
               <input id="profile-username" placeholder="{{ bag('user.name') }}" type="text">

               <p class="help-block ng-scope">You can change your username only once!</p>
             </div>
           </div>
           <div class="modal-footer">
             <button type="button" class="btn btn-sm btn-default" data-dismiss="modal">Close</button>
             <button type="button" class="btn btn-sm btn-primary">Save changes</button>
           </div>
         </div>
       </div>
     </div>
  </div>

{% endblock %}
